
CondaError: Run 'conda init' before 'conda deactivate'

Generating BED file...
/home/asm242/.conda/envs/alphagenome-env/lib/python3.11/site-packages/google/protobuf/runtime_version.py:98: UserWarning: Protobuf gencode version 5.27.2 is exactly one major version older than the runtime version 6.31.1 at alphagenome/protos/dna_model.proto. Please update the gencode to avoid compatibility violations in the next runtime release.
  warnings.warn(
/home/asm242/.conda/envs/alphagenome-env/lib/python3.11/site-packages/google/protobuf/runtime_version.py:98: UserWarning: Protobuf gencode version 5.27.2 is exactly one major version older than the runtime version 6.31.1 at alphagenome/protos/tensor.proto. Please update the gencode to avoid compatibility violations in the next runtime release.
  warnings.warn(
Downloading GTF...
BED file saved: liver_promoters.bed
Total promoters: 1452
Tissue-specific promoters: 726
Filtering BED file to keep only TissueSpecific=1...
Generating FASTA file...
Visualizing the data...
Traceback (most recent call last):
  File "/home/asm242/.conda/envs/alphagenome-env/lib/python3.11/site-packages/pandas/core/indexes/base.py", line 3812, in get_loc
    return self._engine.get_loc(casted_key)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "pandas/_libs/index.pyx", line 167, in pandas._libs.index.IndexEngine.get_loc
  File "pandas/_libs/index.pyx", line 196, in pandas._libs.index.IndexEngine.get_loc
  File "pandas/_libs/hashtable_class_helper.pxi", line 7088, in pandas._libs.hashtable.PyObjectHashTable.get_item
  File "pandas/_libs/hashtable_class_helper.pxi", line 7096, in pandas._libs.hashtable.PyObjectHashTable.get_item
KeyError: 'Specificity_Ratio'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "<string>", line 3, in <module>
  File "/vast/palmer/home.mccleary/asm242/EntexExpress/entex_express/visualizations.py", line 13, in plot_histogram_from_bed
    plt.hist(bed[plot_col], bins=30, edgecolor="black")
             ~~~^^^^^^^^^^
  File "/home/asm242/.conda/envs/alphagenome-env/lib/python3.11/site-packages/pandas/core/frame.py", line 4107, in __getitem__
    indexer = self.columns.get_loc(key)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/asm242/.conda/envs/alphagenome-env/lib/python3.11/site-packages/pandas/core/indexes/base.py", line 3819, in get_loc
    raise KeyError(key) from err
KeyError: 'Specificity_Ratio'
Generating DNABERT2 input CSVs...
/home/asm242/.conda/envs/alphagenome-env/lib/python3.11/site-packages/google/protobuf/runtime_version.py:98: UserWarning: Protobuf gencode version 5.27.2 is exactly one major version older than the runtime version 6.31.1 at alphagenome/protos/dna_model.proto. Please update the gencode to avoid compatibility violations in the next runtime release.
  warnings.warn(
/home/asm242/.conda/envs/alphagenome-env/lib/python3.11/site-packages/google/protobuf/runtime_version.py:98: UserWarning: Protobuf gencode version 5.27.2 is exactly one major version older than the runtime version 6.31.1 at alphagenome/protos/tensor.proto. Please update the gencode to avoid compatibility violations in the next runtime release.
  warnings.warn(
Traceback (most recent call last):
  File "<string>", line 3, in <module>
  File "/vast/palmer/home.mccleary/asm242/EntexExpress/entex_express/utils.py", line 161, in config_dnabert2_input
    raise ValueError("Parameter 'label_key' must be in the input FASTA header as |label_key=value|")
ValueError: Parameter 'label_key' must be in the input FASTA header as |label_key=value|
Generated DNABERT2 input successfully!

CondaError: Run 'conda init' before 'conda deactivate'

Generating BED file...
/home/asm242/.conda/envs/alphagenome-env/lib/python3.11/site-packages/google/protobuf/runtime_version.py:98: UserWarning: Protobuf gencode version 5.27.2 is exactly one major version older than the runtime version 6.31.1 at alphagenome/protos/dna_model.proto. Please update the gencode to avoid compatibility violations in the next runtime release.
  warnings.warn(
/home/asm242/.conda/envs/alphagenome-env/lib/python3.11/site-packages/google/protobuf/runtime_version.py:98: UserWarning: Protobuf gencode version 5.27.2 is exactly one major version older than the runtime version 6.31.1 at alphagenome/protos/tensor.proto. Please update the gencode to avoid compatibility violations in the next runtime release.
  warnings.warn(
Loading cached GTF...
BED file saved: liver_promoters.bed
Total promoters: 1452
Tissue-specific promoters: 726
Filtering BED file to keep only TissueSpecific=1...
Generating FASTA file...
Visualizing the data...
Traceback (most recent call last):
  File "/home/asm242/.conda/envs/alphagenome-env/lib/python3.11/site-packages/pandas/core/indexes/base.py", line 3812, in get_loc
    return self._engine.get_loc(casted_key)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "pandas/_libs/index.pyx", line 167, in pandas._libs.index.IndexEngine.get_loc
  File "pandas/_libs/index.pyx", line 196, in pandas._libs.index.IndexEngine.get_loc
  File "pandas/_libs/hashtable_class_helper.pxi", line 7088, in pandas._libs.hashtable.PyObjectHashTable.get_item
  File "pandas/_libs/hashtable_class_helper.pxi", line 7096, in pandas._libs.hashtable.PyObjectHashTable.get_item
KeyError: 'Specificity_Ratio'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "<string>", line 3, in <module>
  File "/vast/palmer/home.mccleary/asm242/EntexExpress/entex_express/visualizations.py", line 13, in plot_histogram_from_bed
    plt.hist(bed[plot_col], bins=30, edgecolor="black")
             ~~~^^^^^^^^^^
  File "/home/asm242/.conda/envs/alphagenome-env/lib/python3.11/site-packages/pandas/core/frame.py", line 4107, in __getitem__
    indexer = self.columns.get_loc(key)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/asm242/.conda/envs/alphagenome-env/lib/python3.11/site-packages/pandas/core/indexes/base.py", line 3819, in get_loc
    raise KeyError(key) from err
KeyError: 'Specificity_Ratio'
Generating DNABERT2 input CSVs...
/home/asm242/.conda/envs/alphagenome-env/lib/python3.11/site-packages/google/protobuf/runtime_version.py:98: UserWarning: Protobuf gencode version 5.27.2 is exactly one major version older than the runtime version 6.31.1 at alphagenome/protos/dna_model.proto. Please update the gencode to avoid compatibility violations in the next runtime release.
  warnings.warn(
/home/asm242/.conda/envs/alphagenome-env/lib/python3.11/site-packages/google/protobuf/runtime_version.py:98: UserWarning: Protobuf gencode version 5.27.2 is exactly one major version older than the runtime version 6.31.1 at alphagenome/protos/tensor.proto. Please update the gencode to avoid compatibility violations in the next runtime release.
  warnings.warn(
Traceback (most recent call last):
  File "<string>", line 3, in <module>
  File "/vast/palmer/home.mccleary/asm242/EntexExpress/entex_express/utils.py", line 161, in config_dnabert2_input
    raise ValueError("Parameter 'label_key' must be in the input FASTA header as |label_key=value|")
ValueError: Parameter 'label_key' must be in the input FASTA header as |label_key=value|
Generated DNABERT2 input successfully!

CondaError: Run 'conda init' before 'conda deactivate'

Generating BED file...
/home/asm242/.conda/envs/alphagenome-env/lib/python3.11/site-packages/google/protobuf/runtime_version.py:98: UserWarning: Protobuf gencode version 5.27.2 is exactly one major version older than the runtime version 6.31.1 at alphagenome/protos/dna_model.proto. Please update the gencode to avoid compatibility violations in the next runtime release.
  warnings.warn(
/home/asm242/.conda/envs/alphagenome-env/lib/python3.11/site-packages/google/protobuf/runtime_version.py:98: UserWarning: Protobuf gencode version 5.27.2 is exactly one major version older than the runtime version 6.31.1 at alphagenome/protos/tensor.proto. Please update the gencode to avoid compatibility violations in the next runtime release.
  warnings.warn(
Traceback (most recent call last):
  File "<string>", line 3, in <module>
  File "/vast/palmer/home.mccleary/asm242/EntexExpress/entex_express/utils.py", line 139, in generate_tissue_specific_bed
    bed_df_final.to_csv(output_bed, sep="\t", header=False, index=False)
  File "/home/asm242/.conda/envs/alphagenome-env/lib/python3.11/site-packages/pandas/util/_decorators.py", line 333, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/asm242/.conda/envs/alphagenome-env/lib/python3.11/site-packages/pandas/core/generic.py", line 3986, in to_csv
    return DataFrameRenderer(formatter).to_csv(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/asm242/.conda/envs/alphagenome-env/lib/python3.11/site-packages/pandas/io/formats/format.py", line 1014, in to_csv
    csv_formatter.save()
  File "/home/asm242/.conda/envs/alphagenome-env/lib/python3.11/site-packages/pandas/io/formats/csvs.py", line 251, in save
    with get_handle(
         ^^^^^^^^^^^
  File "/home/asm242/.conda/envs/alphagenome-env/lib/python3.11/site-packages/pandas/io/common.py", line 873, in get_handle
    handle = open(
             ^^^^^
FileNotFoundError: [Errno 2] No such file or directory: ''
Loading cached GTF...
Filtering BED file to keep only TissueSpecific=1...
grep: : No such file or directory
Generating FASTA file...
Visualizing the data...
_Specificity_Ratio_histogram.png$.png saved in .
Generating DNABERT2 input CSVs...
/home/asm242/.conda/envs/alphagenome-env/lib/python3.11/site-packages/google/protobuf/runtime_version.py:98: UserWarning: Protobuf gencode version 5.27.2 is exactly one major version older than the runtime version 6.31.1 at alphagenome/protos/dna_model.proto. Please update the gencode to avoid compatibility violations in the next runtime release.
  warnings.warn(
/home/asm242/.conda/envs/alphagenome-env/lib/python3.11/site-packages/google/protobuf/runtime_version.py:98: UserWarning: Protobuf gencode version 5.27.2 is exactly one major version older than the runtime version 6.31.1 at alphagenome/protos/tensor.proto. Please update the gencode to avoid compatibility violations in the next runtime release.
  warnings.warn(
Saved 0 total examples with label key Specificity_Ratio to input/
Series([], Name: count, dtype: int64)
Generated DNABERT2 input successfully!

CondaError: Run 'conda init' before 'conda deactivate'

Generating BED file...
/home/asm242/.conda/envs/alphagenome-env/lib/python3.11/site-packages/google/protobuf/runtime_version.py:98: UserWarning: Protobuf gencode version 5.27.2 is exactly one major version older than the runtime version 6.31.1 at alphagenome/protos/dna_model.proto. Please update the gencode to avoid compatibility violations in the next runtime release.
  warnings.warn(
/home/asm242/.conda/envs/alphagenome-env/lib/python3.11/site-packages/google/protobuf/runtime_version.py:98: UserWarning: Protobuf gencode version 5.27.2 is exactly one major version older than the runtime version 6.31.1 at alphagenome/protos/tensor.proto. Please update the gencode to avoid compatibility violations in the next runtime release.
  warnings.warn(
Loading cached GTF...
BED file saved: liver_promoters.bed
Total promoters: 1452
Tissue-specific promoters: 726
Filtering BED file to keep only TissueSpecific=1...
grep: : No such file or directory
Generating FASTA file...
Visualizing the data...
_Specificity_Ratio_histogram.png$.png saved in .
Generating DNABERT2 input CSVs...
/home/asm242/.conda/envs/alphagenome-env/lib/python3.11/site-packages/google/protobuf/runtime_version.py:98: UserWarning: Protobuf gencode version 5.27.2 is exactly one major version older than the runtime version 6.31.1 at alphagenome/protos/dna_model.proto. Please update the gencode to avoid compatibility violations in the next runtime release.
  warnings.warn(
/home/asm242/.conda/envs/alphagenome-env/lib/python3.11/site-packages/google/protobuf/runtime_version.py:98: UserWarning: Protobuf gencode version 5.27.2 is exactly one major version older than the runtime version 6.31.1 at alphagenome/protos/tensor.proto. Please update the gencode to avoid compatibility violations in the next runtime release.
  warnings.warn(
Saved 0 total examples with label key Specificity_Ratio to input/
Series([], Name: count, dtype: int64)
Generated DNABERT2 input successfully!

CondaError: Run 'conda init' before 'conda deactivate'

Generating BED file...
/home/asm242/.conda/envs/alphagenome-env/lib/python3.11/site-packages/google/protobuf/runtime_version.py:98: UserWarning: Protobuf gencode version 5.27.2 is exactly one major version older than the runtime version 6.31.1 at alphagenome/protos/dna_model.proto. Please update the gencode to avoid compatibility violations in the next runtime release.
  warnings.warn(
/home/asm242/.conda/envs/alphagenome-env/lib/python3.11/site-packages/google/protobuf/runtime_version.py:98: UserWarning: Protobuf gencode version 5.27.2 is exactly one major version older than the runtime version 6.31.1 at alphagenome/protos/tensor.proto. Please update the gencode to avoid compatibility violations in the next runtime release.
  warnings.warn(
Loading cached GTF...
BED file saved: liver_promoters.bed
Total promoters: 1452
Tissue-specific promoters: 726
Filtering BED file to keep only TissueSpecific=1...
Generating FASTA file...
Visualizing the data...
_Specificity_Ratio_histogram.png$.png saved in .
Generating DNABERT2 input CSVs...
/home/asm242/.conda/envs/alphagenome-env/lib/python3.11/site-packages/google/protobuf/runtime_version.py:98: UserWarning: Protobuf gencode version 5.27.2 is exactly one major version older than the runtime version 6.31.1 at alphagenome/protos/dna_model.proto. Please update the gencode to avoid compatibility violations in the next runtime release.
  warnings.warn(
/home/asm242/.conda/envs/alphagenome-env/lib/python3.11/site-packages/google/protobuf/runtime_version.py:98: UserWarning: Protobuf gencode version 5.27.2 is exactly one major version older than the runtime version 6.31.1 at alphagenome/protos/tensor.proto. Please update the gencode to avoid compatibility violations in the next runtime release.
  warnings.warn(
Traceback (most recent call last):
  File "<string>", line 3, in <module>
  File "/vast/palmer/home.mccleary/asm242/EntexExpress/entex_express/utils.py", line 161, in config_dnabert2_input
    raise ValueError("Parameter 'label_key' must be in the input FASTA header as |label_key=value|")
ValueError: Parameter 'label_key' must be in the input FASTA header as |label_key=value|
Generated DNABERT2 input successfully!

CondaError: Run 'conda init' before 'conda deactivate'

Generating BED file...
/home/asm242/.conda/envs/alphagenome-env/lib/python3.11/site-packages/google/protobuf/runtime_version.py:98: UserWarning: Protobuf gencode version 5.27.2 is exactly one major version older than the runtime version 6.31.1 at alphagenome/protos/dna_model.proto. Please update the gencode to avoid compatibility violations in the next runtime release.
  warnings.warn(
/home/asm242/.conda/envs/alphagenome-env/lib/python3.11/site-packages/google/protobuf/runtime_version.py:98: UserWarning: Protobuf gencode version 5.27.2 is exactly one major version older than the runtime version 6.31.1 at alphagenome/protos/tensor.proto. Please update the gencode to avoid compatibility violations in the next runtime release.
  warnings.warn(
Loading cached GTF...
BED file saved: liver_promoters.bed
Total promoters: 1452
Tissue-specific promoters: 726
Filtering BED file to keep only TissueSpecific=1...
Generating FASTA file...
Visualizing the data...
_Specificity_Ratio_histogram.png saved in .
Generating DNABERT2 input CSVs...
/home/asm242/.conda/envs/alphagenome-env/lib/python3.11/site-packages/google/protobuf/runtime_version.py:98: UserWarning: Protobuf gencode version 5.27.2 is exactly one major version older than the runtime version 6.31.1 at alphagenome/protos/dna_model.proto. Please update the gencode to avoid compatibility violations in the next runtime release.
  warnings.warn(
/home/asm242/.conda/envs/alphagenome-env/lib/python3.11/site-packages/google/protobuf/runtime_version.py:98: UserWarning: Protobuf gencode version 5.27.2 is exactly one major version older than the runtime version 6.31.1 at alphagenome/protos/tensor.proto. Please update the gencode to avoid compatibility violations in the next runtime release.
  warnings.warn(
Saved 726 total examples with label key SpecificityRatio to input/
5.075       2
5.066       2
110.056     1
57.864      1
222.990     1
           ..
6739.574    1
7.575       1
25.707      1
117.018     1
48.686      1
Name: count, Length: 724, dtype: int64
Generated DNABERT2 input successfully!
